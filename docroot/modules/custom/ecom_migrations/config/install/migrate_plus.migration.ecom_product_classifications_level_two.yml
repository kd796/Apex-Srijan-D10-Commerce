# Migration configuration for ecom_product_classifications content.
id: ecom_product_classifications_level_two
label: Product Classifications - Level Two
migration_group: ecom
source:
  plugin: url
  data_fetcher_plugin: file
  data_parser_plugin: simple_xml
  urls: 'public://import/pim_data/pim_export_with_schema.xml'
  namespaces:
    stibo: "http://www.stibosystems.com/step"
  item_selector: /STEP-ProductInformation/Classifications/Classification/Classification/Classification/Classification/Classification[@UserTypeID="Web Level 2"]
  fields:
    -
     name: remote_term_id
     label: ID
     selector: '@ID'
    -
      name: remote_term_name
      label: Term Name
      selector: Name
    -
      name: remote_parent_name
      label: Parent Term Name
      selector: 'parent::Classification'
  ids:
    remote_term_id:
      type: string
process:
  name:
    plugin: skip_on_empty
    method: row
    source: remote_term_name
  field_classification_id:
    plugin: skip_on_value
    not_equals: true
    source: remote_term_id
    method: row
    value:
      - W2_26968
      - W2_16008
      - W2_16003
      - W2_785253
      - W2_16002
      - W2_16010
      - W2_16007
      - W2_755890
      - W2_16013
      - W2_16012
      - W2_722357
      - W2_16006
      - W2_722294
      - W2_16011
      - W2_783464
      - W2_16016
      - W2_16005
      - W2_722455
      - W2_16004
      - W2_886492
      - W2_722598
      - W2_723005
      - W2_22452
      - W2_22450
      - W2_22448
      - W2_886499
      - W2_886504
      - W2_886505
      - W2_886507
      - W2_886508
      - W2_886509
      - W2_722651
      - W2_886288
      - W2_886554
      - W2_886555
      - W2_886556
      - W2_886557
      - W2_22459
      - W2_22460
      - W2_725343
      - W2_886544
      - W2_886558
      - W2_806576
      - W2_806577
      - W2_806578
      - W2_806579
      - W2_806580
      - W2_22492
      - W2_806583
      - W2_806584
      - W2_806585
      - W2_806586
      - W2_806587
      - W2_22489
      - W2_22490
      - W2_761733
      - W2_22491
      - W2_26531
      - W2_26532
      - W2_26533
      - W2_26534
      - W2_26535
      - W2_26530
      - W2_796847
      - W2_26521
      - W2_710176
      - W2_26512
      - W2_26513
      - W2_26514
      - W2_26511
      - W2_783453
      - W2_28101
      - W2_837717
      - W2_837718
      - W2_803415
      - W2_803417
      - W2_803411
      - W2_803416
      - W2_803412
      - W2_803413
      - W2_803421
      - W2_803422
      - W2_803420
      - W2_803418
      - W2_803424
      - W2_719546
      - W2_806638
      - W2_803429
      - W2_803430
      - W2_803435
      - W2_719536
      - W2_824727
      - W2_744962
      - W2_719533
      - W2_777129
      - W2_803427
      - W2_803436
      - W2_728125
      - W2_728127
      - W2_728126
      - W2_728130
      - W2_792073
      - W2_800174
      - W2_803458
      - W2_809734
      - W2_809735
      - W2_880029
      - W2_802906
      - W2_802907
      - W2_802908
      - W2_802909
      - W2_803507
      - W2_27053
      - W2_27055
      - W2_27056
      - W2_27057
      - W2_27086
      - W2_27060
      - W2_27064
      - W2_27065
      - W2_27073
      - W2_27076
      - W2_27083
      - W2_26968
      - W2_26969
      - W2_26970
      - W2_26971
      - W2_26972
      - W2_26973
      - W2_26993
      - W2_26981
      - W2_26983
      - W2_26994
      - W2_26995
      - W2_26996
      - W2_27090
      - W2_26997
      - W2_26975
      - W2_26976
      - W2_26999
      - W2_27000
      - W2_27001
      - W2_27003
      - W2_27006
      - W2_27016
      - W2_27011
      - W2_27013
      - W2_27027
      - W2_27026
      - W2_27028
      - W2_27029
      - W2_27031
      - W2_27033
      - W2_27034
      - W2_27036
      - W2_27035
      - W2_27039
      - W2_27037
      - W2_27038
      - W2_27040
      - W2_27041
      - W2_27042
      - W2_27044
      - W2_27047
      - W2_27050
      - W2_27051
      - W2_27093
      - W2_15837
      - W2_15838
      - W2_15839
      - W2_15840
      - W2_15841
      - W2_15842
      - W2_16065
      - W2_16067
      - W2_803928
      - W2_15829
      - W2_15828
      - W2_802015
      - W2_802016
      - W2_802017
      - W2_803947
      - W2_803948
      - W2_803949
      - W2_803950
      - W2_803951
      - W2_803952
      - W2_803954
      - W2_803956
      - W2_803957
      - W2_803958
      - W2_803959
      - W2_803960
      - W2_15820
      - W2_15819
      - W2_16071
      - W2_736537
      - W2_15806
      - W2_15807
      - W2_15808
      - W2_671050
      - W2_710189
      - W2_710190
      - W2_710191
      - W2_16061
      - W2_16063
      - W2_16154
      - W2_803962
      - W2_803961
      - W2_803963
      - W2_803964
      - W2_803965
      - W2_803966
      - W2_15809
      - W2_15810
      - W2_736544
      - W2_736540
      - W2_736541
      - W2_736542
      - W2_736543
      - W2_736546
      - W2_811701
      - W2_16148
      - W2_16149
      - W2_787586
      - W2_714256
      - W2_787587
      - W2_714257
      - W2_789977
      - W2_883115
      - W2_783461
      - W2_783462
      - W2_783463
      - W2_787049
      - W2_803378
      - W2_803379
      - W2_803380
      - W2_824330
      - W2_873488
      - W2_16111
      - W2_15804
      - W2_852466
      - W2_852465
      - W2_852449
      - W2_852446
      - W2_852447
      - W2_852452
      - W2_852450
      - W2_852448
      - W2_852367
      - W2_852451
      - W2_852368
      - W2_852445
      - W2_852454
      - W2_852456
      - W2_852458
      - W2_852457
      - W2_852395
      - W2_852402
      - W2_852404
      - W2_867885
      - W2_852409
      - W2_852405
      - W2_852408
      - W2_852410
      - W2_852411
      - W2_852412
      - W2_852413
      - W2_852393
      - W2_852394
      - W2_852383
      - W2_852382
      - W2_852379
      - W2_852381
      - W2_852380
      - W2_852460
      - W2_852461
      - W2_852459
      - W2_852463
      - W2_852464
      - W2_852374
      - W2_852378
      - W2_848680
      - W2_848685
      - W2_848684
      - W2_848687
      - W2_852391
      - W2_852389
      - W2_852390
      - W2_852388
      - W2_852372
      - W2_852371
      - W2_852370
      - W2_852369
      - W2_852384
      - W2_852385
      - W2_852386
      - W2_852387
      - W2_848690
      - W2_848691
      - W2_848692
      - W2_848693
      - W2_848581
      - W2_848576
      - W2_848575
      - W2_848577
      - W2_848582
      - W2_848574
      - W2_848572
      - W2_848573
      - W2_848168
      - W2_848165
      - W2_848169
      - W2_846468
      - W2_848166

  parent:
    -
      plugin: apex_get_classification_parent_term
      source: remote_parent_name
    -
      plugin: default_value
      default_value: 0
destination:
  plugin: entity:taxonomy_term
  default_bundle: product_classifications
